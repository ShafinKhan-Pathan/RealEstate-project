{% extends 'base.html' %}
{% block title %} | Login {% endblock %}

{% load static %}
{% block content %}


    <!-- ======= Contact Single ======= -->
    <div class="contact-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="form-section">
                        <div class="logo-2">
                              <a class="navbar-brand text-brand" href="{% url 'home' %}">Home<span class="color-b">Hub</span></a>
                        </div>
                        <h3>Sign into your account</h3>
                        {% include 'includes/messages.html' %}

                        <form action="{% url 'login' %}" method="POST" onsubmit="return validation()">
                          {% csrf_token %}
                            <div class="form-group form-box">
                              <input type="text" name="username" id="username" class="input-text" placeholder="Username" autocomplete="off">
                              <span id="uname" class="text-danger font-weight-bold"></span>
                                <i class="flaticon-mail"></i>
                            </div>
                            <div class="form-group form-box">
                              <input type="password" name="password" id="password" class="input-text" placeholder="Password" autocomplete="off">
                              <span id="pass" class="text-danger font-weight-bold"></span>
                                <i class="flaticon-lock"></i>
                            </div>
                            <div class="form-group mb-0 clearfix">

                              <a href="{% url 'login' %}"><button type="submit" name="submit" value="submit" class="btn btn-a navbar-toggle-box navbar-toggle-box-collapse">Login</button></a>

                            </div>
                            <div class="extra-login clearfix">
                                <span>Or Login With</span>
                            </div>
                            <div class="clearfix"></div>
                            <ul class="social-list">
                                <li><a href="#" class="facebook-bg"><i class="fa fa-facebook facebook-i">f</i><span>Facebook</span></a></li>
                                <li><a href="#" class="google-bg"><i class="fa fa-google google-i">G</i><span>Google</span></a></li>
                            </ul>
                        </form>
                        <p>New here? <a href="{% url 'register' %}" class="thembo"> Register now!</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">

      function validation(){

          var username = document.getElementById('username').value;
          var password = document.getElementById('password').value;
          var specialChars = /[!@#$%^&*(),.?":{}|<>]/;
          document.getElementById('uname').innerHTML = "";
          document.getElementById('pass').innerHTML = "";

          if(username.trim() === ""){
            document.getElementById('uname').innerHTML = "Please Enter Your Username";
            return false;
          }
          if((username.length<=2) || (username.length>20)){
            document.getElementById('uname').innerHTML = "Username Must be between 2 and 20";
            return false;
          }
          if(!isNaN(username)){
            document.getElementById('uname').innerHTML = "Enter Characters";
            return false;
          }
          if(password.trim() === ""){
            document.getElementById('pass').innerHTML = "Please Enter Your Password";
            return false;
          }
          if((password.length<=5) || (password.length>20)){
            document.getElementById('pass').innerHTML = "Password Must be between 5 and 20";
            return false;
          }
          if (!specialChars.test(password)) {
            document.getElementById('pass').innerHTML = "Password must contain at least one special character";
            return false;
          }

      }

    </script>




{% endblock %}
